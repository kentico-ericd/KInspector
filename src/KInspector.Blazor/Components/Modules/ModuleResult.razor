@using KInspector.Core.Constants
@using KInspector.Core.Models
@using Markdig

@if (!Results!.HasResults)
{
    <span>No results</span>
}
else
{
    @switch (Results!.Type)
    {
        case ResultsType.TableList:
            foreach (var table in Results!.TableResults)
            {
                if (!table.Rows.Any()) continue;

                <ResultTable Table="@table" />
            }
            break;
        case ResultsType.StringList:
            if (Results!.StringResults.Any())
            {
                <ul class="w-full overflow-x-auto">
                    @foreach (var str in Results!.StringResults)
                    {
                        <li>@str</li>
                    }
                </ul>
            }
            break;
        case ResultsType.MarkdownString:
            @(new MarkupString(Markdown.ToHtml(Results!.StringResult ?? string.Empty)))
            break;
    }
}

@code {
    [Parameter, EditorRequired]
    public ModuleResults? Results { get; set; }
}
